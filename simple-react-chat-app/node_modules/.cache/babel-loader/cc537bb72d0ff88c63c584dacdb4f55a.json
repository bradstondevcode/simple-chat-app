{"ast":null,"code":"var _jsxFileName = \"/Users/bradston/Documents/Dev_Advocate/Blog Posts/Create Simple Realtime Chatroom with React, Node and Socket.io/simple-react-chat-app/src/pages/ChatRoom.js\";\nimport React, { Component } from 'react';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport { Row, Container } from 'react-bootstrap';\nimport { socket } from '../services/socket';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass ChatRoom extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      currentUsername: \"User1\",\n      currentUserID: 1,\n      message: '',\n      chatRoomData: [{\n        username: 'User1',\n        userID: 1,\n        message: \"Message 1\",\n        timeStamp: null\n      }, {\n        username: 'User2',\n        userID: 2,\n        message: \"Message 2\",\n        timeStamp: null\n      }]\n    };\n  }\n\n  componentDidMount() {\n    //Get game data from server\n    socket.emit(\"UserEnteredRoom\", \"Player Entered Room!!!\"); //Retrieve game data (from GetGameData socket call)\n\n    socket.on(\"RetrieveChatRoomData\", chatRoomData => {\n      this.setState({\n        chatRoomData: chatRoomData\n      });\n    });\n  }\n\n  componentWillUnmount() {\n    socket.off(\"RetrieveChatRoomData\");\n  }\n\n  setMessage(message) {\n    this.setState({\n      message: message\n    });\n  }\n\n  sendMessageData() {\n    var {\n      message,\n      currentUsername,\n      currentUserID\n    } = this.state;\n\n    if (message.length > 0) {\n      socket.emit(\"SendMessage\", {\n        message: message,\n        username: currentUsername,\n        userID: currentUserID,\n        timeStamp: null\n      });\n      this.setState({\n        message: ''\n      });\n    }\n  }\n\n  render() {\n    let {\n      chatRoomData\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Chat Room\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 5\n      }, this), chatRoomData.map((messageData, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [messageData.username, \": \", messageData.message]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this)), /*#__PURE__*/_jsxDEV(TextField, {\n        id: \"outlined-basic\",\n        label: \"Enter Message\",\n        variant: \"outlined\",\n        value: this.state.message,\n        onChange: event => this.setMessage(event.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        color: \"primary\",\n        onClick: () => this.sendMessageData(),\n        children: \"Send Message\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 8\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 4\n    }, this);\n  }\n\n}\n\nexport default ChatRoom;","map":{"version":3,"sources":["/Users/bradston/Documents/Dev_Advocate/Blog Posts/Create Simple Realtime Chatroom with React, Node and Socket.io/simple-react-chat-app/src/pages/ChatRoom.js"],"names":["React","Component","Button","TextField","Row","Container","socket","ChatRoom","constructor","props","state","currentUsername","currentUserID","message","chatRoomData","username","userID","timeStamp","componentDidMount","emit","on","setState","componentWillUnmount","off","setMessage","sendMessageData","length","render","map","messageData","index","event","target","value"],"mappings":"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","sourcesContent":["import React, {Component } from 'react';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport { Row, Container } from 'react-bootstrap';\n\nimport {socket} from '../services/socket'\n\n\n\n class ChatRoom extends Component {\n\tconstructor(props) {\n\t    super(props);\n\t    this.state = {\n\t    \tcurrentUsername: \"User1\",\n\t    \tcurrentUserID: 1,\n\t    \tmessage: '',\n\t    \tchatRoomData: [\n\t    \t\t{\n\t    \t\t\tusername: 'User1',\n\t    \t\t\tuserID: 1,\n\t    \t\t\tmessage: \"Message 1\",\n\t    \t\t\ttimeStamp: null\n\t    \t\t},\n\t    \t\t{\n\t    \t\t\tusername: 'User2',\n\t    \t\t\tuserID: 2,\n\t    \t\t\tmessage: \"Message 2\",\n\t    \t\t\ttimeStamp: null\n\t    \t\t}\n\t    \t]\n\t    };\n\n\t}\n\n\tcomponentDidMount(){\n\t\t//Get game data from server\n\t\tsocket.emit(\"UserEnteredRoom\", \"Player Entered Room!!!\")\n\n\t    //Retrieve game data (from GetGameData socket call)\n\t    socket.on(\"RetrieveChatRoomData\", (chatRoomData) => {\n\t    \tthis.setState({chatRoomData: chatRoomData})\n\t    })\n\n\t}\n\n\tcomponentWillUnmount(){\n\t\tsocket.off(\"RetrieveChatRoomData\")\n\t}\n\n\tsetMessage(message){\n\t\tthis.setState({message: message})\n\t}\n\n\tsendMessageData(){\n\t\tvar {message, currentUsername, currentUserID} = this.state\n\n\t\tif(message.length > 0){\n\n\t\t\tsocket.emit(\"SendMessage\", {message: message, username: currentUsername, userID: currentUserID, timeStamp: null})\n\n\t\t\tthis.setState({message: ''})\n\t\t}\n\t}\n\n\n\trender(){\n\n\t\tlet {chatRoomData} = this.state\n\n\t\treturn (\n\t\t\t<Container>\n\t\t\t\t<h1>Chat Room</h1>\n\n\t\t\t\t{chatRoomData.map( (messageData, index) => \n\n\t    \t\t\t<div>{messageData.username}: {messageData.message}</div>\n\t    \t\t)}\n\n  \t\t\t\t<TextField \n\t    \t\t\tid=\"outlined-basic\" \n\t    \t\t\tlabel=\"Enter Message\" \n\t    \t\t\tvariant=\"outlined\"  \n\t    \t\t\tvalue={this.state.message} \n\t    \t\t\tonChange={(event) => this.setMessage(event.target.value)}\n\t    \t\t/>\n\n\t    \t\t<Button variant=\"contained\" color=\"primary\" onClick={() => this.sendMessageData()}>\n\t\t\t \t\t Send Message\n\t\t\t\t</Button>\n\n\t\t\t</Container>\n\t\t);\n\t}\n}\n\nexport default ChatRoom;"]},"metadata":{},"sourceType":"module"}